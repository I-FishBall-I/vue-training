import{u as T,r as d,w as b,o as I,a as r,b as s,d as f,e as g,t as e,l as N,v as D,F as E,m as S,f as V,g as j,h as B,i as u,j as y,k as H}from"./index-CGx9LDsd.js";/* empty css                */const O={key:0,class:"container my-5 mx-auto"},P={class:"row"},$={class:"col-12"},M={class:"bread"},q={class:"row row-cols-2"},z={class:"col-6"},A={class:"breadcrumb"},L={class:"breadcrumb-item"},R={class:"breadcrumb-item"},U={class:"breadcrumb-item active"},G={class:"col-12"},J={class:"card mb-3",style:{"max-width":"70rem"}},K={class:"row g-0"},Q={class:"col-md-5"},W=["src"],X={class:"col-md-7"},Y={class:"card-body"},Z={class:"card-title"},ss={class:"card-text"},ts=["value"],os={class:"accordion accordion-flush my-5",id:"accordionFlushExample"},as={class:"accordion-item"},es={id:"flush-collapseOne",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},ls={class:"accordion-body"},cs={class:"accordion-item"},is={id:"flush-collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},ds={class:"accordion-body"},ns={class:"accordion-item"},rs={id:"flush-collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},us={class:"accordion-body"},ps={class:"accordion-item"},vs={id:"flush-collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},_s={class:"accordion-body"},fs={__name:"subscriptionProduct",setup(hs){const p=j(),v=T(),{proxy:x}=H(),c=d([]),o=d(null),_=d(null),h=async()=>{const t=await(await fetch("Subscription.json")).json();c.value=t,o.value=c.value.find(i=>i.id===_.value)};b(p,()=>{_.value=parseInt(p.params.id),h()},{immediate:!0});const w=()=>{if(o.value.id>1){const a=o.value.id-1;o.value=c.value.find(t=>t.id===a),l.value=1}},k=()=>{if(o.value.id<3){const a=o.value.id+1;o.value=c.value.find(t=>t.id===a),l.value=1}},l=d(1);b(l,a=>{const t=o.value.option[a].match(/NT\$([0-9]+)/);t&&(o.value.price=t[1])});const C=()=>{x.$swal.fire({position:"center",icon:"success",title:"已成功加入購物車",showConfirmButton:!1,timer:1500})},F=()=>{C();const a={category:"subscription",id:v.cartData.length+1,title:o.value.title,price:o.value.price,quantity:1,src:o.value.img};v.addToCart(a)};return I(()=>{h()}),(a,t)=>{const i=B("router-link");return o.value?(u(),r("div",O,[s("div",P,[s("div",$,[s("div",M,[s("div",q,[s("div",z,[s("ol",A,[s("li",L,[f(i,{to:"/"},{default:g(()=>t[1]||(t[1]=[y("首頁")])),_:1})]),s("li",R,[f(i,{to:"/Subscription"},{default:g(()=>t[2]||(t[2]=[y("訂閱方案")])),_:1})]),s("li",U,e(o.value.title),1)])]),s("div",{class:"col-2 offset-1 offset-lg-4"},[s("ul",{class:"pagination"},[s("li",{class:"page-item",onClick:w},t[3]||(t[3]=[s("a",{class:"page-link"},[s("span",null,"Prev«")],-1)])),s("li",{class:"page-item",onClick:k},t[4]||(t[4]=[s("a",{class:"page-link"},[s("span",null,"Next»")],-1)]))])])])])]),s("div",G,[s("div",J,[s("div",K,[s("div",Q,[s("img",{src:o.value.img,class:"img-fluid rounded-start"},null,8,W)]),s("div",X,[s("div",Y,[s("h5",Z,e(o.value.title),1),s("p",ss,"NTD $ "+e(o.value.price),1),N(s("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=n=>l.value=n)},[(u(!0),r(E,null,S(o.value.option,(n,m)=>(u(),r("option",{key:m,value:m},e(n),9,ts))),128))],512),[[D,l.value]]),s("button",{type:"button",class:"btn",onClick:F},"Add to Cart"),s("div",os,[s("div",as,[t[5]||(t[5]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne"}," 包裝尺寸 ")],-1)),s("div",es,[s("div",ls,e(o.value.packSize),1)])]),s("div",cs,[t[6]||(t[6]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo"}," 產品介紹 ")],-1)),s("div",is,[s("div",ds,e(o.value.productinfo),1)])]),s("div",ns,[t[7]||(t[7]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseThree"}," 退貨與退款政策 ")],-1)),s("div",rs,[s("div",us,e(o.value.policy),1)])]),s("div",ps,[t[8]||(t[8]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseFour"}," 購買資訊 ")],-1)),s("div",vs,[s("div",_s,e(o.value.shopInfo),1)])])])])])])])])])])):V("",!0)}}};export{fs as default};
